---
alwaysApply: true
---
# Data Modeling & Persistence Rules

## 1. 저장 대상 원칙
다음 데이터는 반드시 영속 저장된다.

- 사용자 기본 정보
- 사용자 취향 데이터
- 향수 메타데이터
- 추천 결과
- AI 설명 결과

AI 설명은 캐시가 아니라
**서비스 자산**으로 취급한다.

## 2. 재현성 규칙
- 동일 입력 → 동일 추천 결과가 나와야 한다.
- 규칙 로직 변경 시,
  기존 결과와의 호환성을 고려해야 한다.

## 3. Supabase 연동 원칙
- 프론트엔드는 직접 추천 판단을 하지 않는다.
- 모든 추천 계산은 백엔드 기준이다.
